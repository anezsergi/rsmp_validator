# Documenation Flow

## Jekyll
The general documenentation is written in Markdown and structure as a Jekyll site located in docs/. It's deployed on Github Pages, using the branch gh-pages as publishing source.

To update the general documentation:

1. Edit Markdown files in docs/
2. Commit changes and push to the master branch on GitHub.

When you push to the master branch on GitHub, a GitHub Action will run the `yardoc` command to rebuild the YARD documentation in docs/dev. Changes are committed to the gh-pages branch, which will update the website.

Internal documentation is located on docs/internal/. Files without Jekyll frontmatter will not be processed by Jekyll, and will not be shown on the website.

## YARD
The documentation of the RSpec test suite, including specs and helper methods n spec/, is written as code comments. The documentatio is read by YARD which generates a HMTL site in docs/dev. Note that the folder docs/dev/ is gitignored.

To update the YARD documentation:

1. Edit comments in RSpec spec files in spec/ or Ruby files in spec/support/
2. If you wan to review the generated documentation locally, run the `yardoc` command to rebuild the YARD documentation. Then view the generated files in docs/dev, or use the `jekyll server` command to server the Jekyll site and view it on http://localhost:4000.
3. Push changes to the master branch on GitHub.

When you push the master branch to GitHub, a GitHub Action will update the run `yardoc` to update the files in docs/dev. Changes are then committed to the gh-pages branch.

When the gh-pages branch on GitHub is updated, GitHub Pages automatically updates the Jekyll site, which includes the HTML sub-site generated by YARD.

