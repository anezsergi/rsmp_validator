# Documenation Flow

## Jekyll
The general documenentation is written in Markdown and structure as Jekyll site located in docs/. It's published on Github Pages.

To update the general documentation, edit Markdown files in docs/ and commit to the master branch.

When you push the master branch to GitHub, a GitHub Action will update the docs/ folder in the gh-pages branch from master and commit the changes. GitHub pages then automatically rebuilds and publishes the site.

## YARD
The documentation of the RSpec test suite, including specs and helper methods, is generated by YARD. The documentation is written as comments in the RSpec specification files in spec/


To update the YARD docs and build automatically, edit documentation comments in RSpec spec files in spec/ and commit to the master branch.

When you push the master branch to GitHub, a GitHub Action will update the docs/ folder in the gh-pages branch from master and commit the changes. GitHub pages then automatically rebuilds and publishes the site.


## Automation
GitHub Pages can publish directly from the master branch which is often the easier. But to enable automatic updating of the YARD docs we publish from the separate branch gh-pages, so we can somewhere to commit automatic updates. 

gh-pages is an orphaned brach, which contains only the docs/ folder and a few other files.

Whenever the master branch is pushed to GitHub, a GitHub Action is run to:

1. Check out the master branch
2. Run the yardoc command to update YARD docs in docs/dev/
3. Commit changes to the gh-pages branch.

After comittting changes to the gh-pages branch, GitHub pages automatically rebuilds and publishes the page.
