---
layout: page
title: is set with M0003
parent: active
---

# active is set with M0003

Verify that we change traffic situtation

1. Given the site is connected
2. Verify that there is a Validator.config['validator'] with a traffic situation
3. Send the control command to switch traffic situation for each traffic situation
4. Wait for status "Current traffic situatuon" = requested traffic situation

```ruby
situations = Validator.config['items']['traffic_situations']
skip("No traffic situations configured") if situations.nil? || situations.empty?
Validator::Site.connected do |task,supervisor,site|
  prepare task, site
  situations.each { |traffic_situation| switch_traffic_situation traffic_situation.to_s }
end
```

